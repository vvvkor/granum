/*! granum.js v1.2.21 */
(()=>{var v=(e,a,n)=>{a=a&&a.constructor===Array?a:(a||"").split(/\s+/),e.forEach(t=>a.forEach(e=>e?t.classList[n?"add":"remove"](e):null))};document.addEventListener("DOMContentLoaded",e=>{console.log("granum.js started"),document.querySelectorAll("form[data-get]").forEach(e=>{e.querySelectorAll("[name]").forEach(e=>"get"in e.dataset?null:e.dataset.get=e.name)}),document.querySelectorAll("[name][data-get]").forEach(e=>{var t=e.dataset.get||e.name;const a=location.href.match(new RegExp("(\\?|&)_?"+t+"=(.*?)($|&|#)"));a&&(t=decodeURIComponent(a[2].replace(/\+/g," ")),"checkbox"==e.type?e.checked=t&&"0"!==t:"radio"==e.type?e.checked=t&&e.value===t:e.value=t)}),document.querySelectorAll("a.toggle").forEach(e=>e.click()),document.querySelectorAll("input[data-nodes], select[data-nodes]").forEach(e=>"radio"!=e.type||e.checked?e.dispatchEvent(new Event("input",{bubbles:!0})):null),document.body.dataset.ready="",document.querySelectorAll('.tabs :first-child a[href^="#"]').forEach(e=>e.click()),document.querySelectorAll("table").forEach(e=>{(e.className.match(/\b[lcr]\d\d?\b/g)||[]).forEach(t=>{e.querySelectorAll("tr>*:nth-child("+t.substr(1)+")").forEach(e=>e.classList.add(t.substr(0,1)))})}),window.dispatchEvent(new Event("resize")),document.dispatchEvent(new Event("granum"))}),document.addEventListener("click",e=>{const t=e.target,a=t.closest("a");if(a){if(a.classList.contains("dialog")&&((o=a.dataset.prompt)?(e.preventDefault(),null!=(s=prompt(a.title||a.textContent,a.dataset.default||""))&&(location.href=a.href.replace(o,s))):confirm(a.title||a.textContent)||e.preventDefault()),a.classList.contains("toggle")){e.preventDefault();const u=a.closest(".tabs");u&&u.querySelectorAll('a[href^="#"].act').forEach(e=>e.click());var n=a.dataset;const m=document.querySelectorAll(n.nodes||a.hash);var c=(n.set||"show").split(/\s+/),o="ready"in document.body.dataset,s=!m[0].classList.contains(c[0])!=!o;v([a],n.act||"act",s),v([a],n.inact,!s),v(m,c,s),v(m,n.unset,!s),o&&location.hash&&"show"==c[0]&&!u&&(location.hash="#cancel")}if("item"in a.dataset){const p=a.closest(a.dataset.item||"div, li, tr");p&&(e.preventDefault(),"delete"in a.dataset?!(1<p.parentNode.children.length)&&"keep"in a.dataset||p.parentNode.removeChild(p):"up"in a.dataset?p.parentNode.insertBefore(p,p.previousElementSibling):"down"in a.dataset?p.parentNode.insertBefore(p,p.nextElementSibling?p.nextElementSibling.nextElementSibling:p.parentNode.firstElementChild):p.parentNode.insertBefore(p.cloneNode(!0),p.nextElementSibling))}}const l=t.closest(".sort th, th.sort");if(l&&!t.closest("a, input, [name]")){var r=l.cellIndex;const f=l.closest("thead").nextElementSibling;if(1<f.rows.length){var d=l.closest("table").dataset.sort||"bg";const E=[...f.rows].map(e=>[e,e.cells[r].textContent.replace(/\s+$/,"")]).map(e=>[e[0],e[1],parseFloat(e[1])]);var i=isNaN(E[0][2])?1:2,h=l.classList.contains(d)&&E[0][i]<E[E.length-1][i]?-1:1;E.sort((e,t)=>e[i]<t[i]?-h:e[i]>t[i]?h:0),E.forEach(e=>f.appendChild(e[0])),[...l.parentNode.children].forEach(e=>e.classList[e==l?"add":"remove"](d))}}t.classList.contains("modal")&&(location.hash="#cancel")}),document.addEventListener("input",e=>{var t=e.target,e=t.dataset.check;e&&document.querySelectorAll(e).forEach(e=>e.checked=t.checked),"nodes"in t.dataset&&document.querySelectorAll(t.dataset.nodes).forEach(e=>e.className="checkbox"==t.type?t.dataset[t.checked?"set":"unset"]:t.value)}),document.addEventListener("keydown",e=>{"Escape"==e.key&&(location.hash="#cancel")}),window.addEventListener("resize",e=>{const t=document.body,a=(t.dataset.break||"900,500").split(",");a.push(0);var n=a.findIndex(e=>window.innerWidth>=Number(e));null!=t._m&&t._m==n||(t._m=n,document.querySelectorAll("[data-resp]").forEach(e=>{const t=e.dataset.resp.split(",");e.className=(null!=t[n]?t[n]:t.pop())||""}))})})();