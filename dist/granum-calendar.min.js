/*! granum-calendar.js v1.2.106 */
(()=>{var d=(e,t)=>e.dispatchEvent(new Event(t,{bubbles:!0})),a=()=>document.querySelectorAll(".month").forEach(e=>e.style.display=""),c=(e,t)=>new Date(e.valueOf()+864e5*t),o=(e,t)=>new Date(e-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,t||10).replace("T"," ").replace("."==document.body.dataset.dt?/(\d+)-(\d+)-(\d+)(.*)/:"!","$3.$2.$1$4"),u=(e,t,a)=>'<td class="c hover browse" data-cmd data-date="'+o(new Date(e.getFullYear(),e.getMonth()+t))+'">'+a;const s=(e,t,a)=>{let n=new Date(t.replace(/(\d+)\.(\d+)\.(\d+)(.*)/,"$3-$2-$1$4").replace(" ","T"));if(!n.getYear()){if(t)return;n=new Date}const l=new Date(n.getFullYear(),n.getMonth(),1,9);var d=c(l,9),s=(l.getDay()+6)%7,t=(t=l,new Date(t.getFullYear(),t.getMonth()+1,0).getDate()),r=a?a.slice(0,10):o(new Date);e.innerHTML='<table><tr class="text-n">'+u(d,-12,"&laquo;")+u(d,-1,"&lsaquo;")+"<td colspan=3 class=c>"+o(l,7)+u(d,1,"&rsaquo;")+u(d,12,"&raquo;")+"<tr>"+Array(s).fill().map(()=>"<td>").concat(Array(t).fill().map((e,t)=>{var a=(t+s)%7,n=o(c(l,t));return(a?"":"<tr>")+'<td class="c hover'+(r==n?" bg-w":"")+(4<a?" text-e":"")+'" data-cmd data-date="'+n+'">'+(t+1)})).join("")+"</table>",e.style.display="block"};var t=e=>{var t=e.step||e.dataset.step;e.dataset.len="text"==e.type&&!t||"date"==e.type?10:(t||60)<60?19:16,e.type="text";const a=document.createElement("div");a.className="pop fit",e.before(a),e.autocomplete="off",d(e,"granum-get"),e.value.match("-")&&(e.value=o(new Date(e.value),e.dataset.len)),e.defaultValue.match("-")&&(e.defaultValue=o(new Date(e.defaultValue),e.dataset.len)),a.innerHTML+='<div class="month pad rad hide"></div>';const n=document.createElement("span");n.innerHTML=' <a href="#now" data-date=NOW class="icon-ok empty"><b>&check;</b></a> <a href="#reset" data-date class="icon-delete empty"><b>&cross;</b></a>',e.after(n)};document.addEventListener("DOMContentLoaded",()=>document.querySelectorAll(".calendar").forEach(e=>t(e))),document.addEventListener("granum-calendar",e=>t(e.target)),document.addEventListener("input",e=>e.target.matches(".calendar:focus")?d(e.target,"click"):null),document.addEventListener("click",e=>{e.target.closest(".month")||a();var t=e.target.closest(".calendar");t?s(t.previousSibling.lastChild,t.value,t.value):e.target.closest("[data-date]")&&(e=>{e.preventDefault();const t=e.target;let a=t.closest(".pop");a=a?a.nextSibling:t.parentNode.previousSibling;const n=a.previousSibling.lastChild;var l=t.dataset.date;if(t.classList.contains("browse"))return s(n,l,a.value);e=a.dataset.len,a.value="NOW"===l?o(Date.now(),e):l?l+a.value.substring(10,e):"",n.style.display="",d(a,"input"),a.focus()})(e)}),document.addEventListener("keydown",e=>{"Escape"!=e.key&&"Tab"!=e.key||a()})})();