/*! granum-calendar.js v1.2.28 */
(()=>{var s=(e,t)=>e.dispatchEvent(new Event(t,{bubbles:!0})),a=e=>document.querySelectorAll(".month").forEach(e=>e.style.display=""),c=(e,t)=>new Date(e-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,t||10).replace("T"," ").replace("."==document.body.dataset.dt?/(\d+)-(\d+)-(\d+)(.*)/:"!","$3.$2.$1$4"),l=(e,t,a)=>'<td class="c hover browse" data-cmd data-date="'+c(new Date(e.getFullYear(),e.getMonth()+t))+'">'+a;const d=(e,t,a)=>{let n=new Date(t.replace(/(\d+)\.(\d+)\.(\d+)(.*)/,"$3-$2-$1$4"));if(!n.getYear()){if(t)return;n=new Date}const s=new Date(n.getFullYear(),n.getMonth(),1,9);var d=(s.getDay()+6)%7,t=(t=s,new Date(t.getFullYear(),t.getMonth()+1,0).getDate()),r=a?a.slice(0,10):c(new Date);e.innerHTML='<table><tr class="text-n">'+l(s,-12,"&laquo;")+l(s,-1,"&lsaquo;")+"<td colspan=3 class=c>"+c(s,7)+l(s,1,"&rsaquo;")+l(s,12,"&raquo;")+"<tr>"+Array(d).fill().map(e=>"<td>").concat(Array(t).fill().map((e,t)=>{var a,n,l=(t+d)%7,n=c((a=s,n=t,new Date(a.valueOf()+864e5*n)));return(l?"":"<tr>")+'<td class="c hover'+(r==n?" bg-w":"")+(4<l?" text-e":"")+'" data-cmd data-date="'+n+'">'+(t+1)})).join("")+"</table>",e.style.display="block"};document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll(".calendar").forEach(e=>{var t=e.step||e.dataset.step;e.dataset.len="text"==e.type&&!t||"date"==e.type?10:(t||60)<60?19:16,e.type="text";const a=document.createElement("div");a.className="pop fit",e.before(a),e.autocomplete="off",s(e,"getinput"),a.innerHTML+='<div class="month pad rad hide"></div>';const n=document.createElement("span");n.innerHTML=' <a href="#now" data-date=NOW class="icon-ok empty"><b>&check;</b></a> <a href="#reset" data-date class="icon-delete empty"><b>&cross;</b></a>',e.after(n)})}),document.addEventListener("input",e=>e.target.matches(".calendar:focus")?s(e.target,"click"):null),document.addEventListener("click",e=>{e.target.closest(".month")||a();var t=e.target.closest(".calendar");t?d(t.previousSibling.lastChild,t.value,t.value):e.target.closest("[data-date]")&&(e=>{e.preventDefault();const t=e.target;let a=t.closest(".pop");a=a?a.nextSibling:t.parentNode.previousSibling;const n=a.previousSibling.lastChild;var l=t.dataset.date;if(t.classList.contains("browse"))return d(n,l,a.value);e=a.dataset.len,a.value="NOW"===l?c(Date.now(),e):l?l+a.value.substring(10,e):"",n.style.display="",s(a,"input"),s(a,"change"),a.focus()})(e)}),document.addEventListener("keydown",e=>{"Escape"!=e.key&&"Tab"!=e.key||a()})})();