/*! granum-calendar.js v1.2.26 */
(()=>{var s=(e,t)=>e.dispatchEvent(new Event(t,{bubbles:!0})),a=e=>document.querySelectorAll(".month").forEach(e=>e.style.display=""),o=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),c=(e,t)=>new Date(e.valueOf()+864e5*t),d=(e,t)=>new Date(e-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,t||10).replace("T"," "),i=(e,t,a)=>'<td class="c hover browse" data-date="'+d(((e,t)=>{const a=new Date(e.getTime());return a.setDate(1),a.setMonth(e.getMonth()+t),a.setDate(Math.min(e.getDate(),o(a))),a})(e,t))+'">'+a;const l=(e,t,a)=>{let n=new Date(t);if(!n.getYear()){if(t)return;n=new Date}const s=new Date(n.getFullYear(),n.getMonth(),1,9);var l=(s.getDay()+6)%7,t=o(s),r=a?a.slice(0,10):d(n,10);e.innerHTML='<table><tr class="text-n">'+i(n,-12,"&laquo;")+i(n,-1,"&lsaquo;")+"<td colspan=3 class=c>"+d(n,7)+i(n,1,"&rsaquo;")+i(n,12,"&raquo;")+"<tr>"+Array(l).fill().map(e=>"<td>").concat(Array(t).fill().map((e,t)=>((t+l)%7?"":"<tr>")+'<td class="c hover'+(r==d(c(s,t),10)?" bg-w":"")+'" data-date="'+d(c(s,t))+'">'+(t+1))).join("")+"</table>",e.style.display="block"};document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll(".calendar").forEach(e=>{e.dataset.len="text"==e.type&&!e.step||"date"==e.type?10:(e.step||60)<60?19:16,e.type="text";const t=document.createElement("div");t.className="pop",e.parentNode.insertBefore(t,e),e.autocomplete="off",t.appendChild(e),s(e,"getinput"),t.innerHTML+='<div class="month pad rad hide"></div>';const a=document.createElement("span");a.innerHTML+=' <a href="#now" data-date=NOW class="icon-ok empty"><b>&check;</b></a> <a href="#reset" data-date class="icon-delete empty"><b>&cross;</b></a>',t.parentNode.insertBefore(a,t.nextSibling)})}),document.addEventListener("input",e=>e.target.matches(".calendar:focus")?s(e.target,"click"):null),document.addEventListener("click",e=>{e.target.closest(".month")||a();var t=e.target.closest(".calendar");t?l(t.parentNode.lastChild,t.value):e.target.closest("[data-date]")&&(e=>{const t=e.target,a=(t.closest(".pop")||t.parentNode.previousElementSibling).firstChild;var n=t.dataset.date;if(t.classList.contains("browse"))return l(a.nextSibling,n,a.value);e=a.dataset.len,a.value="NOW"===n?d(Date.now(),e):n?n+a.value.substring(10,e):"",a.nextSibling.style.display="",s(a,"input"),s(a,"change"),a.focus()})(e)}),document.addEventListener("keydown",e=>{"Escape"!=e.key&&"Tab"!=e.key||a()})})();