/*! granum-calendar.js v1.2.26 */
(()=>{var s=(e,t)=>e.dispatchEvent(new Event(t,{bubbles:!0})),a=e=>document.querySelectorAll(".month").forEach(e=>e.style.display=""),c=(e,t)=>new Date(e-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,t||10).replace("T"," "),l=(e,t,a)=>'<td class="c hover browse" data-cmd data-date="'+c(new Date(e.getFullYear(),e.getMonth()+t))+'">'+a;const r=(e,t,a)=>{let n=new Date(t);if(!n.getYear()){if(t)return;n=new Date}const s=new Date(n.getFullYear(),n.getMonth(),1,9);var r=(s.getDay()+6)%7,t=(t=s,new Date(t.getFullYear(),t.getMonth()+1,0).getDate()),o=a?a.slice(0,10):c(new Date);e.innerHTML='<table><tr class="text-n">'+l(s,-12,"&laquo;")+l(s,-1,"&lsaquo;")+"<td colspan=3 class=c>"+c(s,7)+l(s,1,"&rsaquo;")+l(s,12,"&raquo;")+"<tr>"+Array(r).fill().map(e=>"<td>").concat(Array(t).fill().map((e,t)=>{var a,n,l=(t+r)%7,n=c((a=s,n=t,new Date(a.valueOf()+864e5*n)));return(l?"":"<tr>")+'<td class="c hover'+(o==n?" bg-w":"")+(4<l?" text-e":"")+'" data-cmd data-date="'+n+'">'+(t+1)})).join("")+"</table>",e.style.display="block"};document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll(".calendar").forEach(e=>{e.dataset.len="text"==e.type&&!e.step||"date"==e.type?10:(e.step||60)<60?19:16,e.type="text";const t=document.createElement("div");t.className="pop fit",e.parentNode.insertBefore(t,e),e.autocomplete="off",s(e,"getinput"),t.innerHTML+='<div class="month pad rad hide"></div>';const a=document.createElement("span");a.innerHTML+=' <a href="#now" data-date=NOW class="icon-ok empty"><b>&check;</b></a> <a href="#reset" data-date class="icon-delete empty"><b>&cross;</b></a>',e.parentNode.insertBefore(a,e.nextSibling)})}),document.addEventListener("input",e=>e.target.matches(".calendar:focus")?s(e.target,"click"):null),document.addEventListener("click",e=>{e.target.closest(".month")||a();var t=e.target.closest(".calendar");t?r(t.previousSibling.lastChild,t.value,t.value):e.target.closest("[data-date]")&&(e=>{const t=e.target;let a=t.closest(".pop");a=a?a.nextSibling:t.parentNode.previousSibling;var n=a.previousSibling.lastChild,l=t.dataset.date;if(t.classList.contains("browse"))return r(n,l,a.value);e=a.dataset.len,a.value="NOW"===l?c(Date.now(),e):l?l+a.value.substring(10,e):"",n.style.display="",s(a,"input"),s(a,"change"),a.focus()})(e)}),document.addEventListener("keydown",e=>{"Escape"!=e.key&&"Tab"!=e.key||a()})})();