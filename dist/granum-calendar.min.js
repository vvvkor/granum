/*! granum-calendar.js v1.2.66 */
(()=>{var s=(e,t)=>e.dispatchEvent(new Event(t,{bubbles:!0})),a=e=>document.querySelectorAll(".month").forEach(e=>e.style.display=""),c=(e,t)=>new Date(e.valueOf()+864e5*t),o=(e,t)=>new Date(e-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,t||10).replace("T"," ").replace("."==document.body.dataset.dt?/(\d+)-(\d+)-(\d+)(.*)/:"!","$3.$2.$1$4"),u=(e,t,a)=>'<td class="c hover browse" data-cmd data-date="'+o(new Date(e.getFullYear(),e.getMonth()+t))+'">'+a;const d=(e,t,a)=>{let l=new Date(t.replace(/(\d+)\.(\d+)\.(\d+)(.*)/,"$3-$2-$1$4").replace(" ","T"));if(!l.getYear()){if(t)return;l=new Date}const n=new Date(l.getFullYear(),l.getMonth(),1,9);var s=c(n,9),d=(n.getDay()+6)%7,t=(t=n,new Date(t.getFullYear(),t.getMonth()+1,0).getDate()),r=a?a.slice(0,10):o(new Date);e.innerHTML='<table><tr class="text-n">'+u(s,-12,"&laquo;")+u(s,-1,"&lsaquo;")+"<td colspan=3 class=c>"+o(n,7)+u(s,1,"&rsaquo;")+u(s,12,"&raquo;")+"<tr>"+Array(d).fill().map(e=>"<td>").concat(Array(t).fill().map((e,t)=>{var a=(t+d)%7,l=o(c(n,t));return(a?"":"<tr>")+'<td class="c hover'+(r==l?" bg-w":"")+(4<a?" text-e":"")+'" data-cmd data-date="'+l+'">'+(t+1)})).join("")+"</table>",e.style.display="block"};document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll(".calendar").forEach(e=>{var t=e.step||e.dataset.step;e.dataset.len="text"==e.type&&!t||"date"==e.type?10:(t||60)<60?19:16,e.type="text";const a=document.createElement("div");a.className="pop fit",e.before(a),e.autocomplete="off",s(e,"granum-get"),e.value.match("-")&&(e.value=o(new Date(e.value),e.dataset.len)),e.defaultValue.match("-")&&(e.defaultValue=o(new Date(e.defaultValue),e.dataset.len)),a.innerHTML+='<div class="month pad rad hide"></div>';const l=document.createElement("span");l.innerHTML=' <a href="#now" data-date=NOW class="icon-ok empty"><b>&check;</b></a> <a href="#reset" data-date class="icon-delete empty"><b>&cross;</b></a>',e.after(l)})}),document.addEventListener("input",e=>e.target.matches(".calendar:focus")?s(e.target,"click"):null),document.addEventListener("click",e=>{e.target.closest(".month")||a();var t=e.target.closest(".calendar");t?d(t.previousSibling.lastChild,t.value,t.value):e.target.closest("[data-date]")&&(e=>{e.preventDefault();const t=e.target;let a=t.closest(".pop");a=a?a.nextSibling:t.parentNode.previousSibling;const l=a.previousSibling.lastChild;var n=t.dataset.date;if(t.classList.contains("browse"))return d(l,n,a.value);e=a.dataset.len,a.value="NOW"===n?o(Date.now(),e):n?n+a.value.substring(10,e):"",l.style.display="",s(a,"input"),a.focus()})(e)}),document.addEventListener("keydown",e=>{"Escape"!=e.key&&"Tab"!=e.key||a()})})();