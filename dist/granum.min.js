/*! granum.js v1.2.43 */
(()=>{var b=(e,a,n)=>{a=a&&a.constructor===Array?a:(a||"").split(/\s+/),e.forEach(t=>a.forEach(e=>e?t.classList[n?"add":"remove"](e):null))};document.addEventListener("DOMContentLoaded",e=>{console.log("granum.js started"),document.querySelectorAll("form[data-get]").forEach(e=>{e.querySelectorAll("[name]").forEach(e=>"get"in e.dataset?null:e.dataset.get=e.name)}),document.querySelectorAll("[name][data-get]").forEach(e=>e.dispatchEvent(new Event("getinput",{bubbles:!0}))),document.querySelectorAll("a.toggle").forEach(e=>e.click()),document.querySelectorAll("input[data-nodes], select[data-nodes]").forEach(e=>"radio"!=e.type||e.checked?e.dispatchEvent(new Event("input",{bubbles:!0})):null),document.body.dataset.ready="",document.querySelectorAll('.tabs :first-child a[href^="#"]').forEach(e=>e.click()),document.querySelectorAll("table").forEach(e=>{(e.className.match(/\b[lcr]\d\d?\b/g)||[]).forEach(t=>{e.querySelectorAll("tr>*:nth-child("+t.slice(1)+")").forEach(e=>e.classList.add(t.slice(0,1)))})}),window.dispatchEvent(new Event("resize")),document.dispatchEvent(new Event("granum"))}),document.addEventListener("getinput",e=>{const t=e.target;e=t.dataset.get||t.name;if(location.href.match(/\?/)){const a=new URL(location).searchParams;e=a.get(a.has(e)?e:"_"+e);"checkbox"==t.type?t.checked=e&&"0"!==e:"radio"==t.type?t.checked=e&&t.value===e:t.value=e}}),document.addEventListener("submit",e=>{e.target.classList.contains("dialog")&&!confirm(e.target.title||"Continue?")&&e.preventDefault()}),document.addEventListener("click",e=>{const t=e.target,a=t.closest("a"),n=t.closest("button.dialog, input.dialog");if(n&&n.form&&n.form.checkValidity()&&!confirm(n.title||n.textContent)&&e.preventDefault(),a)if("#back"==a.hash)e.preventDefault(),history.go(-1);else if(a.classList.contains("dialog")){var c=a.dataset.prompt;c?(e.preventDefault(),null!=(l=prompt(a.title||a.textContent,a.dataset.default||""))&&(location.href=a.href.replace(c,l))):confirm(a.title||a.textContent)||e.preventDefault()}else if(a.classList.contains("toggle")){e.preventDefault();const m=a.closest(".tabs");m&&m.querySelectorAll('a[href^="#"].act').forEach(e=>e.click());var o=a.dataset;const p=document.querySelectorAll(o.nodes||a.hash);var s=(o.set||"show").split(/\s+/),c="ready"in document.body.dataset,l=!p[0].classList.contains(s[0])!=!c;b([a],o.act||"act",l),b([a],o.inact,!l),b(p,s,l),b(p,o.unset,!l),c&&location.hash&&"show"==s[0]&&!m&&(location.hash="#cancel")}else if("item"in a.dataset){const f=a.closest(a.dataset.item||"div, li, tr");if(f){e.preventDefault();const v=f.previousElementSibling,E=f.nextElementSibling,g=f.parentNode;"delete"in a.dataset?!(1<f.parentNode.children.length)&&"keep"in a.dataset||f.remove():"up"in a.dataset?v?v.before(f):g.append(f):"down"in a.dataset?E?E.after(f):g.prepend(f):f.after(f.cloneNode(!0))}}const r=t.closest(".sort th, th.sort");if(r&&!t.closest("a, input, [name]")){var d=r.cellIndex;const n=r.closest("thead").nextElementSibling;if(1<n.rows.length){var i=r.closest("table").dataset.sort||"bg";const y=[...n.rows].map(e=>[e,e.cells[d].textContent.replace(/\s+$/,"")]).map(e=>[e[0],e[1],parseFloat(e[1])]);var u=isNaN(y[0][2])?1:2,h=r.classList.contains(i)&&y[0][u]<y[y.length-1][u]?-1:1;y.sort((e,t)=>e[u]<t[u]?-h:e[u]>t[u]?h:0),y.forEach(e=>n.append(e[0])),[...r.parentNode.children].forEach(e=>e.classList[e==r?"add":"remove"](i))}}t.classList.contains("modal")&&(location.hash="#cancel")}),document.addEventListener("input",e=>{var t=e.target,e=t.dataset.check;e&&document.querySelectorAll(e).forEach(e=>e.checked=t.checked&&!e.closest("[hidden]")),"nodes"in t.dataset&&document.querySelectorAll(t.dataset.nodes).forEach(e=>e.className="checkbox"==t.type?t.dataset[t.checked?"set":"unset"]:t.value),t.dataset.filter&&document.querySelector(t.dataset.filter).querySelectorAll("tbody tr").forEach(e=>e.hidden=!(" "+e.textContent.replace(/\s+/g," ")+" ").match(new RegExp(t.value,"i")))}),document.addEventListener("keydown",e=>{"Escape"==e.key&&(location.hash="#cancel")}),window.addEventListener("resize",e=>{const t=document.body,a=(t.dataset.break||"900,500").split(",");a.push(0);var n=a.findIndex(e=>window.innerWidth>=Number(e));null!=t._m&&t._m==n||(t._m=n,document.querySelectorAll("[data-resp]").forEach(e=>{const t=e.dataset.resp.split(",");e.className=(null!=t[n]?t[n]:t.pop())||""}))})})();