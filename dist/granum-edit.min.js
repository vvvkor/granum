/*! granum-edit.js v1.2.73 */
(()=>{const r=[["<b>B</b>","bold","Bold"],["<i>I</i>","italic","Italic"],["<s>S</s>","strikeThrough","Strike through"],["_","removeformat","Remove Format"],["&hearts;","insertimage","Image","","https://"],["&nearr;","createlink","Link","","https://"],["&times;","unlink","Unlink"],["h1","formatblock","Head 1","<h1>"],["h2","formatblock","Head 2","<h2>"],["h3","formatblock","Head 3","<h3>"],["&sect;","formatblock","Paragraph","<p>"],["&bull;","insertUnorderedList","List"],["{}","insertHTML","Code","<code>*</code>"],["&lt;","justifyLeft","Justify left"],["=","justifyCenter","Justify center"],["&gt;","justifyRight","Justify right"],["1.","insertOrderedList","Ordered list"],["&raquo;","indent","Increase indent"],["&laquo;","outdent","Decrease indent"],["D","formatblock","Div","<div>"],["[]","formatblock","Preformatted","<pre>"],["&#8220;","formatblock","Block quote","<blockquote>"],["&minus;","inserthorizontalrule","Horizontal ruler"]];var t=(e,a)=>e.querySelectorAll("[contenteditable][data-for]").forEach(e=>{var t=document.getElementById(e.dataset.for);t&&(e.innerHTML=t[a?"defaultValue":"value"])}),n=(e,t,a={})=>{const r=document.createElement(e);return Array.isArray(t)?r.append(...t):t.nodeType?r.append(t):r.innerHTML=t,"string"==typeof a?r.className=a:Object.entries(a).forEach(e=>r.setAttribute(...e)),r};document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll("textarea.editor").forEach(e=>{var t=e.id+"-editor",a=n("ul",[n("li",n("a","/",{href:"#"+e.id,class:"toggle",title:"HTML source"})),...r.slice(0,e.classList.contains("l")?100:12).map(e=>n("li",n("a",e[0],{href:"#"+t,"data-cmd":e[1],title:e[2]||e[1],"data-arg":e[3]||"","data-ask":e[4]||""})))],"bg row hover");e.parentNode.insertBefore(a,e),e.parentNode.insertBefore(n("div","",{class:"bord pad back",contenteditable:"",id:t,"data-for":e.id}),e.nextSibling),e.classList.add("target","bg","mono")}),t(document,!1)}),document.addEventListener("reset",e=>e.defaultPrevented?null:t(e.target,!0)),document.addEventListener("click",e=>{const t=e.target.closest("a");if(t&&t.hash&&t.dataset.cmd){const a=document.getElementById(t.hash.slice(1));a&&(e.preventDefault(),null!=(e=t.dataset.ask?prompt(t.title||t.dataset.cmd,t.dataset.ask):t.dataset.arg?t.dataset.arg.replace("*",getSelection().toString()):"")&&(a.focus(),document.execCommand(t.dataset.cmd,!1,e)))}}),document.addEventListener("input",e=>{if(e.target.dataset.for){const t=document.getElementById(e.target.dataset.for);t&&(t.value=e.target.innerHTML),t.dispatchEvent(new CustomEvent("input",{bubbles:!0,detail:1}))}if(e.target.id&&"TEXTAREA"==e.target.tagName&&!e.detail){const a=document.querySelector('[data-for="'+e.target.id+'"]');a&&(a.innerHTML=e.target.value)}})})();