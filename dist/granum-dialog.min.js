/*! granum-dialog.js v1.2.74 */
(()=>{var a=(e,t,a={})=>{const n=document.createElement(e);return Array.isArray(t)?n.append(...t):n.append(t),"string"==typeof a?n.className=a:Object.entries(a).forEach(e=>n.setAttribute(...e)),n},n=o=>{const c=null!=o.def?a("input","",{type:"text",value:o.def}):"",e=o.action?a("button",o.cancel||"Cancel","bg-n"):"",t=a("button",o.ok||"OK","js-ok");o.mode&&t.classList.add("bg-"+o.mode);const s=a("div",a("div",[o.head?a("h3",o.head,"mar"):"",a("p",o.title||""),c,a("p",[t," ",e],"r")],"pad rad stack"),"modal js-modal");o.action&&e.addEventListener("click",e=>s.remove()),t.addEventListener("click",e=>{if(s.remove(),o.action){var t=c?c.value:1,a={value:t,...o};if(document.dispatchEvent(new CustomEvent("granum-confirm",{cancelable:!0,detail:a})))if("string"==typeof o.action){const n=new URL(o.action,location.href);n.searchParams.set(o.param||"confirm",t),location.href=n}else o.action(a)}}),document.body.append(s),(c||t).focus(),c&&c.setSelectionRange(0,999)};document.addEventListener("click",e=>{let t=e.target.closest("a.alert, a.confirm");t&&(e.preventDefault(),n({...t.dataset,node:t,action:t.classList.contains("confirm")?t.href:"",title:t.dataset.caption||t.title||t.textContent,mode:t.className.match(/-[ew]\b/)?"e":""})),e.target.classList.contains("js-modal")&&e.target.remove()}),document.addEventListener("keydown",e=>{if("Escape"==e.key)document.querySelectorAll(".js-modal").forEach(e=>e.remove());else if("Enter"==e.key){const t=document.querySelector(".js-modal input:focus + p .js-ok");t&&t.click()}}),document.addEventListener("granum-ask",e=>n(e.detail))})();