/*! granum-dialog.js v1.2.114 */
(()=>{var a=(e,t,a={})=>{const n=document.createElement(e);return Array.isArray(t)?n.append(...t):n.append(t),"string"==typeof a?n.className=a:Object.entries(a).forEach(e=>n.setAttribute(...e)),n},n=n=>{const o=null!=n.def?a("input","",{type:"text",value:n.def}):"",e=n.action?a("button",n.cancel||"Cancel","bg-n"):"",t=a("button",n.ok||"OK","js-ok");n.mode&&t.classList.add("bg-"+n.mode);const c=a("div",a("div",[n.head?a("h3",n.head,"mar"):"",a("p",n.title||""),o,a("p",[t," ",e],"r")],"pad rad stack"),"modal js-modal");n.action&&e.addEventListener("click",()=>c.remove()),t.addEventListener("click",()=>{if(c.remove(),n.action){var e=o?o.value:1,t={value:e,...n};if(document.dispatchEvent(new CustomEvent("granum-confirm",{cancelable:!0,detail:t})))if("string"==typeof n.action){const a=new URL(n.action,location.href);a.searchParams.set(n.param||"confirm",e),location.href=a}else n.action(t)}}),document.body.append(c),(o||t).focus(),o&&o.setSelectionRange(0,999)};document.addEventListener("click",e=>{let t=e.target.closest("a.alert, a.confirm");t&&(e.preventDefault(),n({...t.dataset,node:t,action:t.classList.contains("confirm")?t.href:"",title:t.dataset.caption||t.title||t.textContent,mode:t.className.match(/-[ew]\b/)?"e":""})),e.target.classList.contains("js-modal")&&e.target.remove()}),document.addEventListener("keydown",e=>{if("Escape"==e.key)document.querySelectorAll(".js-modal").forEach(e=>e.remove());else if("Enter"==e.key){const t=document.querySelector(".js-modal input:focus + p .js-ok");t&&t.click()}}),document.addEventListener("granum-ask",e=>n(e.detail))})();