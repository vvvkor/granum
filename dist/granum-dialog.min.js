/*! granum-dialog.js v1.2.58 */
(()=>{var o=(e,t,a={})=>{const n=document.createElement(e);return Array.isArray(t)?n.append(...t):n.append(t),"string"==typeof a?n.className=a:Object.entries(a).forEach(e=>n.setAttribute(...e)),n};document.addEventListener("click",e=>{let t=e.target.closest("a.alert, a.confirm");t&&(e.preventDefault(),(a=>{const n=null!=a.def?o("input","",{type:"text",value:a.def}):"",e=a.action?o("a",a.cancel||"Cancel",{class:"pad inv rad bg-n l",href:"#cancel"}):"",t=o("a",a.ok||"OK",{class:"pad inv rad",href:"#ok"});a.mode&&t.classList.add("bg-"+a.mode);const c=o("div",o("div",[o("p",a.title||""),n,o("p",[e,t],n?"r":"")],"pad rad"+(n?"":" c")),"modal js-modal");a.action&&e.addEventListener("click",e=>{e.preventDefault(e),c.remove()}),t.addEventListener("click",e=>{if(e.preventDefault(e),c.remove(),a.action){e=n?n.value:1;if("string"==typeof a.action){const t=new URL(a.action,location.href);t.searchParams.set(a.param||"confirm",e),location.href=t}else a.action({value:e,...a})}}),document.body.append(c),(n||t).focus(),n&&n.setSelectionRange(0,999)})({action:t.classList.contains("confirm")?t.href:"",title:t.dataset.caption||t.title||t.textContent,mode:t.className.match(/-[ew]\b/)?"e":"",...t.dataset})),e.target.classList.contains("js-modal")&&e.target.remove()}),document.addEventListener("keydown",e=>{if("Escape"==e.key){const t=document.querySelector(".js-modal");t&&t.remove()}})})();