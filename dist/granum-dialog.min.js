/*! granum-dialog.js v1.2.59 */
(()=>{var a=(e,t,a={})=>{const n=document.createElement(e);return Array.isArray(t)?n.append(...t):n.append(t),"string"==typeof a?n.className=a:Object.entries(a).forEach(e=>n.setAttribute(...e)),n},n=n=>{const c=null!=n.def?a("input","",{type:"text",value:n.def}):"",e=n.action?a("a",n.cancel||"Cancel",{class:"pad inv rad bg-n l",href:"#cancel"}):"",t=a("a",n.ok||"OK",{class:"pad inv rad",href:"#ok"});n.mode&&t.classList.add("bg-"+n.mode);const o=a("div",a("div",[a("p",n.title||""),c,a("p",[e,t],c?"r":"")],"pad rad"+(c?"":" c")),"modal js-modal");n.action&&e.addEventListener("click",e=>{e.preventDefault(e),o.remove()}),t.addEventListener("click",e=>{if(e.preventDefault(e),o.remove(),n.action){var t=c?c.value:1,e={value:t,...n};if(document.dispatchEvent(new CustomEvent("granum-confirm",{cancelable:!0,detail:e})))if("string"==typeof n.action){const a=new URL(n.action,location.href);a.searchParams.set(n.param||"confirm",t),location.href=a}else n.action(e)}}),document.body.append(o),(c||t).focus(),c&&c.setSelectionRange(0,999)};document.addEventListener("click",e=>{let t=e.target.closest("a.alert, a.confirm");t&&(e.preventDefault(),n({...t.dataset,node:t,action:t.classList.contains("confirm")?t.href:"",title:t.dataset.caption||t.title||t.textContent,mode:t.className.match(/-[ew]\b/)?"e":""})),e.target.classList.contains("js-modal")&&e.target.remove()}),document.addEventListener("keydown",e=>{if("Escape"==e.key)document.querySelectorAll(".js-modal").forEach(e=>e.remove());else if("Enter"==e.key){const t=document.querySelector('.js-modal input:focus + p [href="#ok"]');t&&t.click()}}),document.addEventListener("granum-ask",e=>n(e.detail))})();